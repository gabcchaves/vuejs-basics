<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Counter</title>
		<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
	</head>
	<body>
		<div id="app">
			<h1 v-html="getUppercaseMessage('Hello Vue!')"></h1>
			<p>{{ employee.name }} is {{ employee.age }} years old.</p>
			<p>His current salary is {{employee.salary}} (BRL).</p>
			<p>Iterating through an array:</p>
			<p v-for="(number, index) in luckyNumbers">
				[{{index}}]: {{ number }}
			</p>

			<strong>Showing key and values of an object with v-for:</strong>
			<p v-for="(value, key) in employee">
				<span>{{key}}: {{value}}</span>
			</p>
		</div>

		<script>
			const { createApp, ref, reactive } = Vue;

			createApp({
				setup() {

					const message = "Hello Vue 3!";
					const luckyNumber = 7;
					const luckyNumbers = [3, 7, 9];
					const employee = reactive({
						name: "Gabriel",
						age: 23,
						salary: 2800,
						hasCorporateCard: false,
						spendingLimit: 3500
					});
					const portfolioLink = "https://gabcchaves.github.io";
					let randomLuckyNumber = ref(0);

					function getUppercaseMessage(message) {
						return `${message.toUpperCase()}`;
					}

					function getRandomLuckyNumber() {
						randomLuckyNumber.value = Math.floor(Math.random()*10) + 1;
						return randomLuckyNumber.value;
					}

					function updateLuckyNumber() {
						setTimeout(() => {
							randomLuckyNumber.value = Math.floor(Math.random()*10) + 1;
						}, 1000);
					}

					function updateEmployee() {
						setTimeout(() => {
							employee.age = Math.floor(Math.random()*100) + 1;
						}, 1000);
					}

					return {
						message,
						luckyNumber,
						luckyNumbers,
						employee,
						getRandomLuckyNumber,
						getUppercaseMessage,
						updateLuckyNumber,
						updateEmployee,
						portfolioLink,
					};
				},
			}).mount("#app");
		</script>
	</body>
</html>

